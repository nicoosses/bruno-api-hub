meta {
  name: searchByName
  type: http
  seq: 1
}

get {
  url: {{baseUrlFreeCocktail}}/search.php?s=margarita
  body: none
  auth: inherit
}

settings {
  encodeUrl: true
}

tests {
  const helper = require('./Helpers/helper.js');

  test("status should be 200", function () {
    expect(res.getStatus()).to.eql(200);
  });

  test("response body should not be null", function () {
    const body = res.getBody();
    expect(body).to.not.equal(null);
  });

  test("response should have drinks array", function () {
    const body = res.getBody();
    helper.assertHasDrinksArray(body);
  });

  test("drinks array should have at least 1 element", function () {
    const body = res.getBody();
    helper.assertMinResults(body, 1);
  });

  test("drink object should contain mandatory fields", function () {
    const drink = res.getBody().drinks[0];

    expect(drink).to.have.property("idDrink");
    expect(drink).to.have.property("strDrink");
    expect(drink).to.have.property("strCategory");
  });
}
